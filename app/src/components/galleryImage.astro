---
const { url, caption } = Astro.props;
---

<div class="masonry-item">
  <img
    src={`/images/gallery/${url}`}
    alt={caption || ""}
    class="gallery-image"
  />
  {caption && <div class="caption">{caption}</div>}
</div>

<style>
  .masonry-item {
    break-inside: avoid;
    margin-bottom: 16px;
    position: relative;
    transition: box-shadow 0.2s;
  }
  .masonry-item img {
    width: 100%;
    display: block;
    border-radius: 8px;
    box-shadow: 0 2px 8px #f1f3f4;
  }
  .caption {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(
      to top,
      rgba(0, 0, 0, 0.7) 50%,
      rgba(0, 0, 0, 0)
    );
    color: #fff;
    padding: 8px;
    opacity: 0;
    border-radius: 0 0 8px 8px;
    transition: opacity 0.2s;
    pointer-events: none;
  }
  .masonry-item:hover .caption {
    opacity: 1;
  }
</style>
