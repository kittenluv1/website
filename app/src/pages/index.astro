---
import "../styles/index.css";
import "../styles/globals.css";
import Modal from "../components/indexModal/modal.astro";
import { Image } from "astro:assets";
import backgroundImgSrc from "../images/index.jpg";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>bunnyluv1</title>
    <link rel="icon" href="/images/index/index.jpg" type="image/jpg" />
    <!-- <link rel="stylesheet" href="/index/jump/jump.css" /> -->

    <script
      is:inline
      src="https://cdn.jsdelivr.net/npm/counterapi/dist/counter.browser.min.js"
    ></script>
    <script is:inline defer>
      // Counter is available as a global variable
      const counter = new Counter({ workspace: "kittenluv1" });

      counter
        .up("kittenluv1-visits")
        .then((result) => {
          console.log("Counter result:", result);
          document.getElementById("counter").textContent = result.data.up_count;
        })
        .catch((err) => console.error(err));
    </script>
  </head>
  <body>
    <div class="background-container">
      <Image
        src={backgroundImgSrc}
        alt=""
        loading="eager"
        fetchpriority="high"
        sizes="100vw"
        class="bg-img"
      />

      <button id="blog">
        <img src="/images/index/lotus.png" alt="lotus" />
        <p>nostalgiablog</p>
      </button>
      <button id="creations">
        <img src="/images/index/cat.png" alt="plush keychain cat" />
        <p>creations</p>
      </button>
      <button id="japan">
        <img src="/images/index/japan.png" alt="japan video" />
        <p>japan tv</p>
      </button>
      <button id="portfolio">
        <img src="/images/portfolio/lotus-transparent.png" alt="portfolio" />
        <p>portfolio</p>
      </button>
      <!-- <button id="flappy">
			<img src="/creations/imgs/games/flappy/kuchipatchi.png" alt="kuchipatchi">
			<p>flappypatchi</p>
		</button> -->
      <!-- <button id="neocities">
			<img src="/images/index/treble-cat.png" alt="neocities">
			<p>neocities</p>
		</button> -->
      <button id="resources">
        <img src="/images/index/tool.png" alt="resources" />
        <p>resources</p>
      </button>
      <button id="writing">
        <img src="/images/index/writing.png" alt="writing" />
        <p>writing</p>
      </button>
      <button id="detective">
        <img src="/creations/imgs/games/detective/1.png" alt="detective game" />
        <p>detective</p>
      </button>
      <button id="gallery">
        <img src="/images/gallery/tarepanda1.png" alt="gallery" />
        <p>gallery</p>
      </button>
      <!-- <button id="microblog">
			<img src="/microblog/imgs/heart-cookie.png">
			<p>microblog</p>
		</button> -->

      <Modal client:visible />
    </div>

    <!-- WINDOWS XP FOOTER -->
    <footer>
      <img src="/images/index/start.png" />
      <div id="copyright">
        <div>visits: <span id="counter"></span></div>
        <p>&copy; e**** 2024</p>
        <img src="/images/index/flyingtoro.png" alt="flying toro" />
      </div>
    </footer>
  </body>

  <script>
    const currentYear = 2026;

    document
      .getElementById("blog")
      .addEventListener(
        "dblclick",
        () => (window.location.href = `blog/${currentYear}`),
      );
    document
      .getElementById("creations")
      .addEventListener("dblclick", () => (window.location.href = "creations"));
    document
      .getElementById("japan")
      .addEventListener("dblclick", () =>
        window.open("https://youtu.be/3UTBZtwQMpI?si=sRSIXSru4suTvE5h"),
      );
    document
      .getElementById("portfolio")
      .addEventListener("dblclick", () => (window.location.href = "portfolio"));
    // document.getElementById('flappy').addEventListener('dblclick', () => window.open('https://introspec.itch.io/flappypatchi'));
    // document.getElementById('neocities').addEventListener('dblclick', () => window.open('https://kittenluv1.neocities.org/'));
    document
      .getElementById("resources")
      .addEventListener("dblclick", () =>
        window.open("https://kittenluv1.neocities.org/resources"),
      );
    document
      .getElementById("writing")
      .addEventListener("dblclick", () => (window.location.href = "writing"));
    document
      .getElementById("detective")
      .addEventListener("dblclick", () =>
        window.open("https://introspec.itch.io/dimensional-detective"),
      );
    document
      .getElementById("gallery")
      .addEventListener("dblclick", () => (window.location.href = "gallery"));
    // document.getElementById('microblog').addEventListener('dblclick', () => window.location.href = 'microblog');

    // ========================== FOOTER GRADIENTS ========================= //
    const footer = document.querySelector("footer");
    const gradients = [
      `linear-gradient(
    rgb(31, 47, 134) 0px,
    rgb(49, 101, 196) 3%,
    rgb(54, 130, 229) 6%,
    rgb(68, 144, 230) 10%,
    rgb(56, 131, 229) 12%,
    rgb(43, 113, 224) 15%,
    rgb(38, 99, 218) 18%,
    rgb(35, 91, 214) 20%,
    rgb(34, 88, 213) 23%,
    rgb(33, 87, 214) 38%,
    rgb(36, 93, 219) 54%,
    rgb(37, 98, 223) 86%,
    rgb(36, 95, 220) 89%,
    rgb(33, 88, 212) 92%,
    rgb(29, 78, 192) 95%,
    rgb(25, 65, 165) 98%
  )`,
      `linear-gradient(
    rgb(255, 225, 235) 0px,
    rgb(255, 215, 225) 3%,
    rgb(255, 210, 220) 6%,
    rgb(255, 205, 215) 10%,
    rgb(255, 210, 220) 12%,
    rgb(255, 220, 230) 15%,
    rgb(255, 225, 235) 18%,
    rgb(255, 230, 240) 20%,
    rgb(255, 235, 245) 23%,
    rgb(255, 240, 245) 38%,
    rgb(255, 235, 240) 54%,
    rgb(255, 230, 235) 86%,
    rgb(255, 235, 240) 89%,
    rgb(255, 240, 245) 92%,
    rgb(255, 245, 250) 95%,
    rgb(255, 250, 255) 98%
  )`,
      `linear-gradient(
    rgb(150, 180, 255) 0px,
    rgb(170, 200, 255) 3%,
    rgb(180, 210, 255) 6%,
    rgb(190, 220, 255) 10%,
    rgb(185, 215, 255) 12%,
    rgb(175, 205, 255) 15%,
    rgb(165, 195, 255) 18%,
    rgb(160, 190, 255) 20%,
    rgb(158, 188, 255) 23%,
    rgb(157, 187, 255) 38%,
    rgb(160, 192, 255) 54%,
    rgb(162, 195, 255) 86%,
    rgb(160, 193, 255) 89%,
    rgb(157, 187, 255) 92%,
    rgb(150, 180, 240) 95%,
    rgb(140, 170, 220) 98%
  )`,
    ];

    // Track the current index instead of color names
    let currentIndex = 0;

    footer.addEventListener("click", () => {
      // Increment index and wrap around using modulo
      currentIndex = (currentIndex + 1) % gradients.length;
      footer.style.background = gradients[currentIndex];
    });
  </script>
</html>
